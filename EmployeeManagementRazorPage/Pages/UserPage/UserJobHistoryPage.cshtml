@page
@model EmployeeManagementRazorPage.Pages.UserPage.UserJobHistoryPageModel
@{
}
<div style="border-radius: 10px; background-color: #EFF2F7; padding: 0 0 0 0;">
    <div style="display: flex; min-height: calc(100vh - 117px);">
        <partial name="_LeftMenu" />
        <!-- Main Section -->
        <div style="flex: 1; padding: 20px 0 0 0;">
            <div style="margin-top: 20px;">
                <table class="dataGrid">
                    <thead>
                        <tr>
                            <th>Start date</th>
                            <th>End date</th>
                            <th>Department</th>
                            <th>Job Title</th>
                            <th>Salary</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.JobHistories)
                        {
                            <tr>
                                <td>
                                    @{
                                        string startedDate = item.StartedDate.ToString("dd-MM-yyyy");
                                    }
                                    @startedDate
                                </td>
                                <td>
                                    @{
                                        string endedDate = item.EndedDate?.ToString("dd-MM-yyyy");
                                    }
                                    @endedDate
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Department.DepartmentName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Job.JobTitle)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Job.Salary)
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
